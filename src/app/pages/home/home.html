<app-header [title]="title"></app-header>

<h1>Pàgina HOME</h1>

<h2>Benvingut a la pàgina de Home</h2>

<a routerLink="/login">Anar a la pàgina de Login</a>

<h2>Formulari de llibres</h2>

<!-- /* formulari de llibres amb els camps:

  id: number;
  titol: string;
  autor: string;
  anyPublicacio?: number;
  editorial: string;
  pagines: number;
  isbn?: string; */ -->
<form [formGroup]="bookForm">

  <mat-form-field>
    <mat-label>Títol:</mat-label>
    <input matInput formControlName="titol">
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Autor:</mat-label>
    <input matInput formControlName="autor">
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Any de publicació:</mat-label>
    <input matInput type="number" formControlName="anyPublicacio">
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Editorial:</mat-label>
    <input matInput formControlName="editorial">
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>Pàgines:</mat-label>
    <input matInput type="number" formControlName="pagines">
  </mat-form-field>
  <br>

  <mat-form-field>
    <mat-label>ISBN:</mat-label>
    <input matInput formControlName="isbn">
  </mat-form-field>
  <br>

  <button  matButton="outlined" type="button" (click)="submitBook()">Afegir llibre</button>

  <button  matButton="outlined" type="button" (click)="submitEditBook()">Editar llibre</button>

</form>

<h2>Llibres afegits:</h2>
<ul>
  @for (llibre of llistaLlibres; track $index) {
    <li>{{$index}} - {{ llibre.titol }} - {{ llibre.autor }} - 
      <span (click)="editLlibre($index)">edit</span> - 
      <span (click)="deleteLlibre($index)">delete</span>
    </li>
  }
</ul>